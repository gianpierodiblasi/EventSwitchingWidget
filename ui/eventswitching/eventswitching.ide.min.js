TW.IDE.Widgets.eventswitching=function(){this.widgetIconUrl=function(){return"../Common/extensions/EventSwitchingWidget/ui/eventswitching/arrows.png"};this.widgetProperties=function(){return{name:"EventSwitching",description:"Widget to generate events to be sent in switching",category:["Common"],iconImage:"arrows.png",properties:{Width:{description:"width",defaultValue:200},Height:{description:"height",defaultValue:28},input:{isBindingTarget:!0,description:"The switch input",baseType:"STRING",isEditable:!1},
inputType:{description:"The input type",baseType:"STRING",defaultValue:"STRING",selectOptions:[{value:"STRING",text:"STRING"},{value:"INTEGER",text:"INTEGER"},{value:"NUMBER",text:"NUMBER"},{value:"DATETIME",text:"DATETIME"},{value:"BOOLEAN",text:"BOOLEAN"}]},numberOfCases:{description:"The cases number",baseType:"INTEGER",defaultValue:5},debugMode:{isVisible:!0,baseType:"BOOLEAN",isEditable:!0,defaultValue:!1,description:"true to activate the debug"}}}};this.renderHtml=function(){return'<div class="widget-content widget-eventswitching"><span class="eventswitching-property">Event Switching</span></div>'};
this.afterRender=function(){this.addNewEventParameters(this.getProperty("inputType"),this.getProperty("numberOfCases"))};this.afterSetProperty=function(a,b){if("inputType"===a||"numberOfCases"===a)switch(this.deleteOldEventParameters(),a){case "inputType":this.addNewEventParameters(b,this.getProperty("numberOfCases"));break;case "numberOfCases":this.addNewEventParameters(this.getProperty("inputType"),b)}return!1};this.deleteOldEventParameters=function(){var a=this.allWidgetProperties().properties,
b;for(b in a)b.toLowerCase().startsWith("case")&&delete a[b]};this.addNewEventParameters=function(a,b){var c=this.allWidgetProperties().properties;c.input.baseType=a;c.numberOfCases.isVisible="BOOLEAN"!==a;if(c.numberOfCases.isVisible){for(a=1;a<=b;a++)c["case"+a]={isBaseProperty:!1,name:"case"+a,type:"property",description:"Case N. "+a+" (inputType = STRING -> it must contain the string to search, inputType = INTEGER/NUMBER/DATETIME -> it must contain the predicate to search eg. x<10||x>15, x<new Date(), etc.)",
isBindingTarget:!0,baseType:"STRING",isEditable:!0,isVisible:!0},c["Case"+a]={name:"Case"+a,type:"event",description:"Event thrown if Case N. "+a+" occurs",isVisible:!0};c.CaseDefault={name:"CaseDefault",description:"Event thrown if no case occurs",type:"event",isVisible:!0}}else c.CaseTrue={name:"CaseTrue",description:"Event thrown if Case True occurs",type:"event",isVisible:!0},c.CaseFalse={name:"CaseFalse",description:"Event thrown if Case False occurs",type:"event",isVisible:!0};this.updatedProperties({updateUI:!0})}};